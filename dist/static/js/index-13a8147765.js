function changedLayout(e){if("ForceDirectedLayout"==e)myDiagram.div=null,myDiagram=GO(go.Diagram,"myDiagramDiv",{initialAutoScale:go.Diagram.Uniform,layout:GO(go.ForceDirectedLayout)}),myOverview.div=null,myOverview=GO(go.Overview,"myOverviewDIV",{observed:myDiagram}),myDiagram.nodeTemplate=GO(go.Node,"Spot",{locationSpot:go.Spot.Center,mouseEnter:function(e,i){}},new go.Binding("text","text"),GO(go.Shape,"Ellipse",{fill:"blue",stroke:"skyblue",width:60,height:60},new go.Binding("fill","VertexFill"),new go.Binding("stroke","VertexStroke"),new go.Binding("width","VertexWidth"),new go.Binding("height","VertexHeight")),GO(go.Picture,{name:"icon_picture",margin:10,width:45,height:45,visible:!1},new go.Binding("source","iconSource"),new go.Binding("width","iconWidth"),new go.Binding("height","iconHeight")),{doubleClick:function(e,i){}},GO(go.TextBlock,{name:"icon_label",visible:!1,alignment:go.Spot.Bottom,margin:new go.Margin(-10,0,0,0)},new go.Binding("text","VertexText"))),myDiagram.linkTemplate=GO(go.Link,{selectable:!0,curve:go.Link.Bezier,adjusting:go.Link.Stretch,toShortLength:3},GO(go.Shape,{strokeWidth:1,stroke:"#333"},new go.Binding("strokeWidth","EdgeWidth"),new go.Binding("stroke","EdgeStroke")),GO(go.Shape,{toArrow:"standard",stroke:"#333",name:"edge_standard",visible:!1},new go.Binding("stroke","arrowheadStroke")),{doubleClick:function(e,i){}},GO(go.TextBlock,"transition",{name:"edge_label",text:"",textAlign:"center",font:"10pt helvetica, arial, sans-serif",stroke:"#555555",margin:4,editable:!0,visible:!1},new go.Binding("text","EdgeText"),new go.Binding("stroke","EdgeStroke"),new go.Binding("font","EdgeFont"))),myDiagram.layout.defaultSpringLength=500;else if("sankey"==e){myDiagram.div=null,myDiagram=GO(go.Diagram,"myDiagramDiv",{initialAutoScale:go.Diagram.Uniform,layout:GO(SankeyLayout,{setsPortSpots:!1,direction:0,layeringOption:go.LayeredDigraphLayout.LayerOptimalLinkLength,packOption:go.LayeredDigraphLayout.PackStraighten||go.LayeredDigraphLayout.PackMedian,layerSpacing:150,columnSpacing:1})}),myOverview.div=null,myOverview=GO(go.Overview,"myOverviewDIV",{observed:myDiagram}),myDiagram.nodeTemplate=GO(go.Node,go.Panel.Horizontal,{locationObjectName:"SHAPE",locationSpot:go.Spot.MiddleLeft,portSpreading:go.Node.SpreadingPacked},GO(go.TextBlock,{font:"bold 12pt Segoe UI, sans-serif",stroke:"black",margin:5},{name:"LTEXT"},new go.Binding("text","VertexText")),GO(go.Shape,{name:"SHAPE",figure:"Rectangle",fill:"#2E8DEF",stroke:null,strokeWidth:0,portId:"",fromSpot:go.Spot.RightSide,toSpot:go.Spot.LeftSide,height:50,width:20},new go.Binding("fill","color")));var i=GO(go.Adornment,"Link",GO(go.Shape,{isPanelMain:!0,fill:null,stroke:"rgba(0, 0, 255, 0.3)",strokeWidth:0}));myDiagram.linkTemplate=GO(go.Link,go.Link.Bezier,{selectionAdornmentTemplate:i,layerName:"Background",fromEndSegmentLength:150,toEndSegmentLength:150,adjusting:go.Link.End},GO(go.Shape,{strokeWidth:1,stroke:"#333"},new go.Binding("strokeWidth","strokeWidth")),GO(go.TextBlock,{font:"bold 12pt Segoe UI, sans-serif",stroke:"black",margin:5},{name:"EdgeText"},new go.Binding("text","EdgeText")),GO(go.Shape,{toArrow:"standard",stroke:"#333"}))}else"CircularLayout"==e?(myDiagram.div=null,myDiagram=GO(go.Diagram,"myDiagramDiv",{initialAutoScale:go.Diagram.Uniform,layout:GO(go.CircularLayout)}),myOverview.div=null,myOverview=GO(go.Overview,"myOverviewDIV",{observed:myDiagram}),myDiagram.nodeTemplate=GO(go.Node,"Spot",{locationSpot:go.Spot.Center,mouseEnter:function(e,i){}},new go.Binding("text","text"),GO(go.Shape,"Ellipse",{fill:"blue",stroke:"skyblue",width:70,height:70},new go.Binding("fill","VertexFill"),new go.Binding("stroke","VertexStroke"),new go.Binding("width","VertexWidth"),new go.Binding("height","VertexHeight")),GO(go.Picture,{name:"icon_picture",margin:10,width:50,height:50,visible:!1},new go.Binding("source","iconSource"),new go.Binding("width","iconWidth"),new go.Binding("height","iconHeight")),{doubleClick:function(e,i){}},GO(go.TextBlock,{name:"icon_label",visible:!1,alignment:go.Spot.Bottom,margin:new go.Margin(-10,0,0,0)},new go.Binding("text","VertexText"))),myDiagram.linkTemplate=GO(go.Link,{selectable:!0,toShortLength:2},GO(go.Shape,{strokeWidth:1,stroke:"#333"},new go.Binding("strokeWidth","EdgeWidth"),new go.Binding("stroke","EdgeStroke")),GO(go.Shape,{toArrow:"standard",stroke:"#333",name:"edge_standard",visible:!1},new go.Binding("stroke","arrowheadStroke")),{doubleClick:function(e,i){}},GO(go.TextBlock,"transition",{name:"edge_label",text:"",textAlign:"center",font:"10pt helvetica, arial, sans-serif",stroke:"#555555",margin:4,editable:!0,visible:!1},new go.Binding("text","EdgeText"),new go.Binding("stroke","EdgeStroke"),new go.Binding("font","EdgeFont"))),myDiagram.layout.spacing=200):"TreeLayout"==e?(myDiagram.div=null,myDiagram=GO(go.Diagram,"myDiagramDiv",{initialAutoScale:go.Diagram.Uniform,layout:GO(go.TreeLayout,{angle:90})}),myOverview.div=null,myOverview=GO(go.Overview,"myOverviewDIV",{observed:myDiagram}),myDiagram.nodeTemplate=GO(go.Node,"Spot",{locationSpot:go.Spot.Center,mouseEnter:function(e,i){}},new go.Binding("text","text"),GO(go.Shape,"Ellipse",{fill:"blue",stroke:"skyblue",width:70,height:70},new go.Binding("fill","VertexFill"),new go.Binding("stroke","VertexStroke"),new go.Binding("width","VertexWidth"),new go.Binding("height","VertexHeight")),GO(go.Picture,{name:"icon_picture",margin:10,width:50,height:50,visible:!1},new go.Binding("source","iconSource"),new go.Binding("width","iconWidth"),new go.Binding("height","iconHeight")),{doubleClick:function(e,i){}},GO(go.TextBlock,{name:"icon_label",visible:!1,alignment:go.Spot.Bottom,margin:new go.Margin(-10,0,0,0)},new go.Binding("text","VertexText"))),myDiagram.linkTemplate=GO(go.Link,{selectable:!0,toShortLength:2},GO(go.Shape,{strokeWidth:1,stroke:"#333"},new go.Binding("strokeWidth","EdgeWidth"),new go.Binding("stroke","EdgeStroke")),GO(go.Shape,{toArrow:"standard",stroke:"#333",name:"edge_standard",visible:!1},new go.Binding("stroke","arrowheadStroke")),{doubleClick:function(e,i){}},GO(go.TextBlock,"transition",{name:"edge_label",text:"",textAlign:"center",font:"10pt helvetica, arial, sans-serif",stroke:"#555555",margin:4,editable:!0,visible:!1},new go.Binding("text","EdgeText"),new go.Binding("stroke","EdgeStroke"),new go.Binding("font","EdgeFont")))):"GridLayout"==e?(myDiagram.div=null,myDiagram=GO(go.Diagram,"myDiagramDiv",{initialAutoScale:go.Diagram.Uniform,layout:GO(go.GridLayout)}),myOverview.div=null,myOverview=GO(go.Overview,"myOverviewDIV",{observed:myDiagram}),myDiagram.nodeTemplate=GO(go.Node,"Spot",{locationSpot:go.Spot.Center,mouseEnter:function(e,i){}},new go.Binding("text","text"),GO(go.Shape,"Ellipse",{fill:"blue",stroke:"skyblue",width:60,height:60},new go.Binding("fill","VertexFill"),new go.Binding("stroke","VertexStroke"),new go.Binding("width","VertexWidth"),new go.Binding("height","VertexHeight")),GO(go.Picture,{name:"icon_picture",margin:10,width:45,height:45,visible:!1},new go.Binding("source","iconSource"),new go.Binding("width","iconWidth"),new go.Binding("height","iconHeight")),{doubleClick:function(e,i){}},GO(go.TextBlock,{name:"icon_label",visible:!1,alignment:go.Spot.Bottom,margin:new go.Margin(-10,0,0,0)},new go.Binding("text","VertexText"))),myDiagram.linkTemplate=GO(go.Link,{selectable:!0,curve:go.Link.Bezier,adjusting:go.Link.Stretch,toShortLength:3},GO(go.Shape,{strokeWidth:1,stroke:"#333"},new go.Binding("strokeWidth","EdgeWidth"),new go.Binding("stroke","EdgeStroke")),GO(go.Shape,{toArrow:"standard",stroke:"#333",name:"edge_standard",visible:!1},new go.Binding("stroke","arrowheadStroke")),{doubleClick:function(e,i){}},GO(go.TextBlock,"transition",{name:"edge_label",text:"",textAlign:"center",font:"10pt helvetica, arial, sans-serif",stroke:"#555555",margin:4,editable:!0,visible:!1},new go.Binding("text","EdgeText"),new go.Binding("stroke","EdgeStroke"),new go.Binding("font","EdgeFont")))):"LayeredDigraphLayout"==e&&(myDiagram.div=null,myDiagram=GO(go.Diagram,"myDiagramDiv",{initialAutoScale:go.Diagram.Uniform,layout:GO(go.LayeredDigraphLayout)}),myOverview.div=null,myOverview=GO(go.Overview,"myOverviewDIV",{observed:myDiagram}),myDiagram.nodeTemplate=GO(go.Node,"Spot",{locationSpot:go.Spot.Center,mouseEnter:function(e,i){}},new go.Binding("text","text"),GO(go.Shape,"Ellipse",{fill:"blue",stroke:"skyblue",width:60,height:60},new go.Binding("fill","VertexFill"),new go.Binding("stroke","VertexStroke"),new go.Binding("width","VertexWidth"),new go.Binding("height","VertexHeight")),GO(go.Picture,{name:"icon_picture",margin:10,width:45,height:45,visible:!1},new go.Binding("source","iconSource"),new go.Binding("width","iconWidth"),new go.Binding("height","iconHeight")),{doubleClick:function(e,i){}},GO(go.TextBlock,{name:"icon_label",visible:!1,alignment:go.Spot.Bottom,margin:new go.Margin(-10,0,0,0)},new go.Binding("text","VertexText"))),myDiagram.linkTemplate=GO(go.Link,{selectable:!0,curve:go.Link.Bezier,adjusting:go.Link.Stretch,toShortLength:3},GO(go.Shape,{strokeWidth:1,stroke:"#333"},new go.Binding("strokeWidth","EdgeWidth"),new go.Binding("stroke","EdgeStroke")),GO(go.Shape,{toArrow:"standard",stroke:"#333",name:"edge_standard",visible:!1},new go.Binding("stroke","arrowheadStroke")),{doubleClick:function(e,i){}},GO(go.TextBlock,"transition",{name:"edge_label",text:"",textAlign:"center",font:"10pt helvetica, arial, sans-serif",stroke:"#555555",margin:4,editable:!0,visible:!1},new go.Binding("text","EdgeText"),new go.Binding("stroke","EdgeStroke"),new go.Binding("font","EdgeFont"))));myDiagram.model.nodeDataArray=nodeArray,myDiagram.model.linkDataArray=linkArray,console.log("sankey"==e),"sankey"!=e&&myDiagram.addDiagramListener("ViewportBoundsChanged",function(e){.5<myDiagram.scale?(myDiagram.nodes.each(function(e){var i=e.findObject("icon_picture"),t=e.findObject("icon_label");i.visible=!0,t.visible=!0}),myDiagram.links.each(function(e){var i=e.findObject("edge_label"),t=e.findObject("edge_standard");i.visible=!0,t.visible=!0})):myDiagram.scale<.5&&(myDiagram.nodes.each(function(e){var i=e.findObject("icon_picture"),t=e.findObject("icon_label");i.visible=!1,t.visible=!1}),myDiagram.links.each(function(e){var i=e.findObject("edge_label"),t=e.findObject("edge_standard");i.visible=!1,t.visible=!1}))})}$("#myDiagramDiv").height($(document).height()-120);var GO=go.GraphObject.make;myDiagram=GO(go.Diagram,"myDiagramDiv",{initialAutoScale:go.Diagram.Uniform,layout:GO(go.ForceDirectedLayout)});var myOverview=GO(go.Overview,"myOverviewDIV",{observed:myDiagram});changedLayout("ForceDirectedLayout"),window.oncontextmenu=function(e){if(getcurrentNodes()){e.preventDefault();var i=document.querySelector("#menu");i.style.left=e.clientX+"px",i.style.top=e.clientY+"px",i.style.width="125px",i.style.height="125px"}},window.onclick=function(e){document.querySelector("#menu").style.height=0},$(".reduce").click(function(){$(".nav").show(),$(".nav_label").show(),$(".smallNav").hide(),$("#myDiagramDiv").height($("#myDiagramDiv").height()-90),myDiagram.requestUpdate()}),$(".amplify").click(function(){$(".nav").hide(),$(".nav_label").hide(),$(".smallNav").show(),$("#myDiagramDiv").height($(document).height()-31),myDiagram.requestUpdate()});